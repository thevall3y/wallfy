<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wallify - Wallpaper View</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    .dark {
      background-color: #111827;
      color: #f9fafb;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">
  <!-- Header -->
  <header class="sticky top-0 z-50 border-b bg-white/95 backdrop-blur shadow-sm">
    <div class="container mx-auto flex h-16 items-center justify-between px-4">
      <div class="flex items-center gap-2">
        <a href="index.html" class="flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="m12 19-7-7 7-7"></path></svg>
          <h1 class="text-2xl font-bold tracking-tight">Wallify</h1>
        </a>
      </div>
      <button id="themeToggle" class="p-2 rounded-md hover:bg-gray-100" aria-label="Toggle theme">
        <svg id="sunIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>
        <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>
      </button>
    </div>
  </header>

  <!-- Wallpaper Content -->
  <main class="container mx-auto px-4 py-8">
    <div class="flex flex-col lg:flex-row gap-8">
      <!-- Wallpaper Image -->
      <div class="lg:w-2/3">
        <div class="relative rounded-lg overflow-hidden shadow-lg bg-white dark:bg-gray-800 h-[80vh]">
          <img id="wallpaperImage" class="w-full h-full object-contain" src="" alt="Wallpaper">
        </div>
      </div>

      <!-- Wallpaper Info -->
      <div class="lg:w-1/3">
        <div class="sticky top-24 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
          <h1 id="wallpaperTitle" class="text-2xl font-bold mb-2"></h1>
          <p id="wallpaperCategory" class="text-sm text-blue-600 dark:text-blue-400 mb-4"></p>
          
          <div class="border-t border-b py-4 mb-6">
            <div class="flex justify-between mb-2">
              <span class="text-gray-500 dark:text-gray-400">Dimensions</span>
              <span id="wallpaperDimensions" class="font-medium"></span>
            </div>
            <div class="flex justify-between">
              <span class="text-gray-500 dark:text-gray-400">Downloads</span>
              <span class="font-medium"><span id="wallpaperDownloads">0</span> times</span>
            </div>
          </div>
          
          <button id="downloadButton" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></svg>
            Download Wallpaper
          </button>
          
          <div class="mt-6 bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg">
            <h3 class="font-medium mb-1">Mobile Wallpaper</h3>
            <p class="text-sm text-gray-600 dark:text-gray-300">This wallpaper is optimized for smartphone screens with 1080×1920 resolution.</p>
          </div>
          
          <a href="index.html" class="mt-8 inline-flex items-center text-blue-600 dark:text-blue-400 hover:underline">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1"><path d="m12 19-7-7 7-7"></path><path d="M5 12h14"></path></svg>
            Back to all wallpapers
          </a>
        </div>
      </div>
    </div>
  </main>

  <script>
    // Wallpaper data - same as in index.html
    const wallpapers = [
      // Nature wallpapers
      {
        id: 'nature-1',
        title: 'Mountain Lake',
        imageUrl: 'https://images.unsplash.com/photo-1506744038136-46273834b3fb',
        category: 'Nature',
        size: { width: 1080, height: 1920 },
        downloads: 128,
      },
      {
        id: 'nature-2',
        title: 'Forest Path',
        imageUrl: 'https://images.unsplash.com/photo-1511497584788-876760111969',
        category: 'Nature',
        size: { width: 1080, height: 1920 },
        downloads: 95,
      },
      {
        id: 'nature-3',
        title: 'Autumn Colors',
        imageUrl: 'https://images.unsplash.com/photo-1507783548227-544c3b8fc065',
        category: 'Nature',
        size: { width: 1080, height: 1920 },
        downloads: 152,
      },
      {
        id: 'nature-4',
        title: 'Coastal Sunset',
        imageUrl: 'https://images.unsplash.com/photo-1518495973542-4542c06a5843',
        category: 'Nature',
        size: { width: 1080, height: 1920 },
        downloads: 114,
      },
      // Abstract wallpapers
      {
        id: 'abstract-1',
        title: 'Color Burst',
        imageUrl: 'https://images.unsplash.com/photo-1541701494587-cb58502866ab',
        category: 'Abstract',
        size: { width: 1080, height: 1920 },
        downloads: 243,
      },
      {
        id: 'abstract-2',
        title: 'Fluid Waves',
        imageUrl: 'https://images.unsplash.com/photo-1550859492-d5da9d8e45f3',
        category: 'Abstract',
        size: { width: 1080, height: 1920 },
        downloads: 187,
      },
      {
        id: 'abstract-3',
        title: 'Geometric Shapes',
        imageUrl: 'https://images.unsplash.com/photo-1553356084-58ef4a67b2a7',
        category: 'Abstract',
        size: { width: 1080, height: 1920 },
        downloads: 163,
      },
      {
        id: 'abstract-4',
        title: 'Digital Brushstrokes',
        imageUrl: 'https://images.unsplash.com/photo-1567359781514-3b964e2b04d6',
        category: 'Abstract',
        size: { width: 1080, height: 1920 },
        downloads: 119,
      },
      // Animals wallpapers
      {
        id: 'animals-1',
        title: 'Lion King',
        imageUrl: 'https://images.unsplash.com/photo-1546182990-dffeafbe841d',
        category: 'Animals',
        size: { width: 1080, height: 1920 },
        downloads: 276,
      },
      {
        id: 'animals-2',
        title: 'Ocean Life',
        imageUrl: 'https://images.unsplash.com/photo-1524704654690-b56c05c78a00',
        category: 'Animals',
        size: { width: 1080, height: 1920 },
        downloads: 104,
      },
      {
        id: 'animals-3',
        title: 'Bird of Paradise',
        imageUrl: 'https://images.unsplash.com/photo-1444464666168-49d633b86797',
        category: 'Animals',
        size: { width: 1080, height: 1920 },
        downloads: 85,
      },
      {
        id: 'animals-4',
        title: 'Wolf in Snow',
        imageUrl: 'https://images.unsplash.com/photo-1564466809058-bf4114d55352',
        category: 'Animals',
        size: { width: 1080, height: 1920 },
        downloads: 198,
      },
      // Space wallpapers
      {
        id: 'space-1',
        title: 'Galaxy Clusters',
        imageUrl: 'https://images.unsplash.com/photo-1462331940025-496dfbfc7564',
        category: 'Space',
        size: { width: 1080, height: 1920 },
        downloads: 328,
      },
      {
        id: 'space-2',
        title: 'Nebula Cloud',
        imageUrl: 'https://images.unsplash.com/photo-1465101162946-4377e57745c3',
        category: 'Space',
        size: { width: 1080, height: 1920 },
        downloads: 215,
      },
      {
        id: 'space-3',
        title: 'Milky Way',
        imageUrl: 'https://images.unsplash.com/photo-1539593395743-7da5ee10ff07',
        category: 'Space',
        size: { width: 1080, height: 1920 },
        downloads: 294,
      },
      {
        id: 'space-4',
        title: 'Planets Aligned',
        imageUrl: 'https://images.unsplash.com/photo-1614732414444-096e5f1122d5',
        category: 'Space',
        size: { width: 1080, height: 1920 },
        downloads: 157,
      },
    ];

    // Get DOM elements
    const wallpaperImage = document.getElementById('wallpaperImage');
    const wallpaperTitle = document.getElementById('wallpaperTitle');
    const wallpaperCategory = document.getElementById('wallpaperCategory');
    const wallpaperDimensions = document.getElementById('wallpaperDimensions');
    const downloadButton = document.getElementById('downloadButton');
    const themeToggle = document.getElementById('themeToggle');
    const sunIcon = document.getElementById('sunIcon');
    const moonIcon = document.getElementById('moonIcon');

    // Get wallpaper ID from URL
    const urlParams = new URLSearchParams(window.location.search);
    const wallpaperId = urlParams.get('id');

    // Initialize data
    initializeDownloadCounts();
    
    // Find the wallpaper by ID
    const wallpaper = wallpapers.find(w => w.id === wallpaperId);

    // If wallpaper not found, redirect to index
    if (!wallpaper) {
      window.location.href = 'index.html';
    } else {
      // Set page title
      document.title = `${wallpaper.title} - Wallify`;

      // Display wallpaper details
      wallpaperImage.src = `${wallpaper.imageUrl}?auto=format&fit=crop&w=1080&h=1920&q=90`;
      wallpaperImage.alt = wallpaper.title;
      wallpaperTitle.textContent = wallpaper.title;
      wallpaperCategory.textContent = wallpaper.category;
      wallpaperDimensions.textContent = `${wallpaper.size.width} × ${wallpaper.size.height}`;
      
      // Display download count
      updateDownloadCountDisplay(wallpaper.downloads);

      // Set up download button
      downloadButton.addEventListener('click', () => {
        console.log(`Downloading ${wallpaper.title}`);
        
        // Increment download count
        incrementDownloadCount(wallpaper.id);
        
        // In a real implementation, this would download the image
        const link = document.createElement('a');
        link.href = wallpaper.imageUrl;
        link.download = `wallify-${wallpaper.id}.jpg`;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      });
    }

    // Toggle theme
    let isDarkMode = localStorage.getItem('darkMode') === 'true';
    
    function applyTheme() {
      if (isDarkMode) {
        document.body.classList.add('dark');
        document.body.classList.remove('bg-gray-50', 'text-gray-900');
        document.body.classList.add('bg-gray-900', 'text-gray-50');
        sunIcon.classList.add('hidden');
        moonIcon.classList.remove('hidden');
      } else {
        document.body.classList.remove('dark');
        document.body.classList.remove('bg-gray-900', 'text-gray-50');
        document.body.classList.add('bg-gray-50', 'text-gray-900');
        sunIcon.classList.remove('hidden');
        moonIcon.classList.add('hidden');
      }
    }

    function toggleTheme() {
      isDarkMode = !isDarkMode;
      localStorage.setItem('darkMode', isDarkMode);
      applyTheme();
    }

    // Initialize theme
    applyTheme();
    themeToggle.addEventListener('click', toggleTheme);

    // Initialize download counts from localStorage
    function initializeDownloadCounts() {
      const savedDownloads = localStorage.getItem('wallpaperDownloads');
      if (savedDownloads) {
        const downloadsData = JSON.parse(savedDownloads);
        // Update download counts in wallpapers array
        wallpapers.forEach(wallpaper => {
          if (downloadsData[wallpaper.id] !== undefined) {
            wallpaper.downloads = downloadsData[wallpaper.id];
          }
        });
      }
    }
    
    // Save download counts to localStorage
    function saveDownloadCounts() {
      const downloadsData = {};
      wallpapers.forEach(wallpaper => {
        downloadsData[wallpaper.id] = wallpaper.downloads;
      });
      localStorage.setItem('wallpaperDownloads', JSON.stringify(downloadsData));
    }

    // Increment download count for a wallpaper
    function incrementDownloadCount(wallpaperId) {
      const wallpaper = wallpapers.find(w => w.id === wallpaperId);
      if (wallpaper) {
        wallpaper.downloads += 1;
        saveDownloadCounts();
        updateDownloadCountDisplay(wallpaper.downloads);
      }
    }

    // Update the download count display in the UI
    function updateDownloadCountDisplay(count) {
      // Add download count to the wallpaper info section
      const downloadsElement = document.getElementById('wallpaperDownloads');
      if (downloadsElement) {
        downloadsElement.textContent = count.toString();
      }
    }
  </script>
</body>
</html> 